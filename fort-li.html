<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-item/paper-item-body.html">
<link rel="import" href="../fort-behavior/fort-text-content-behavior.html">
<link rel="import" href="../fort-icon/fort-icon.html">
<link rel="import" href="../fort-action/fort-action.html">
<link rel="import" href="../paper-item/paper-item-shared-styles.html">
<link rel="import" href="../paper-item/paper-item-behavior.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">

<!--
A List Item

Example:

    <forti-li></fort-li>

Example:

    <fort-li>
      <h2>Hello seed-element</h2>
    </fort-li>

@demo demo/fort-li.html
-->

<dom-module id="fort-li" attributes="multi-line">
  <template strip-whitespace>
    <style include="paper-item-shared-styles"></style>
    <style>
      :host {
        @apply --paper-font-body1;
        padding: 0;
        display: block;
        box-sizing: border-box;
        line-height: 26px;

        @apply --fort-li-style;
        @apply --fort-li-border-style;
      }

      :host:before {
        background: var(--fort-li-focus-color, currentColor) !important;
      }

      :host(:focus), :host([focused]) {
        outline: 0;
      }

      :host([odd]):host-context(fort-list[zebra],fort-list-menu[zebra]) {
        background: var(--theme-300-color, #F0F6FA);
      }

      :host-context(fort-list[border],fort-list-menu[border]) #container,
      :host-context(fort-list[double-border],fort-list-menu[double-border]) #container {
        border-bottom: 1px solid var(--fort-list-border-color, rgba(0, 0, 0, 0.06));
      }

      :host-context(fort-list[border],fort-list-menu[border]):host([last-item]) #container,
      :host-context(fort-list[double-border],fort-list-menu[double-border]):host([last-item]) #container {
        border-bottom-color: transparent;
      }

      :host-context(fort-list[double-border],fort-list-menu[double-border]) #container {
        border-top: 1px solid var(--fort-list-double-border-color, rgba(0, 0, 0, 0.12));
      }

      :host-context(fort-list[double-border],fort-list-menu[double-border]):host([first-item]) #container {
        border-top-color: transparent;
      }

      :host-context(fort-list-menu) {
        cursor: pointer;
      }

      :host fort-icon {
        width: var(--paper-item-icon-width, 56px);
        padding: 0;
        overflow: hidden;
        color: var(--text-color);
      }

      :host paper-item-body {
        padding: 8px 0;
      }

      :host paper-item-body[two-line] {
        min-height: initial;
      }

      #primary {
        @apply --paper-font-subhead;
      }

      #secondarySlot::slotted(*) {
        @apply --text-secondary;

        white-space: normal;
        max-height: 32px;
        line-height: 16px;
      }

      #footerSlot::slotted(*) {
        @apply --text-secondary;
        position: relative;

        max-height: 40px;
        line-height: 40px;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;

        @apply --fort-li-footer;
      }

      #iconSlot::slotted(*) {
        display: flex;
        width: 56px;
        align-items: center;
      }

      #container {
        display: flex;
        align-items: center;
        padding: 0 16px;
        border: 1px solid transparent;
      }
    </style>

    <div id="container">
      <slot id="iconSlot" name="icon"></slot>

      <paper-item-body>
        <div id="primary">
          <slot></slot>
        </div>
        <slot id="secondarySlot" name="secondary"></slot>
      </paper-item-body>

      <slot name="actions"></slot>
    </div>

    <slot id="footerSlot" name="footer"></slot>
  </template>

  <script>
    Polymer(
      {
        is:         'fort-li',
        properties: {
          odd:       {type: Boolean, reflectToAttribute: true, value: false},
          firstItem: {type: Boolean, reflectToAttribute: true, value: false},
          lastItem:  {type: Boolean, reflectToAttribute: true, value: false},
          multiLine: {type: Boolean, value: false}
        },
        attached:   function ()
                    {

                    },

        behaviors: [
          Polymer.PaperItemBehavior,
          Polymer.FortTextContentBehavior
        ]
      }
    );
  </script>
</dom-module>
